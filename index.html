<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wallet QC - Financial Management</title>
  
  <!-- Firebase SDKs (using compat version for gradual upgrade) -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage-compat.js"></script>
  
  <!-- Tailwind CSS (proper production setup) -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  
  <!-- jsPDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.14/jspdf.autotable.min.js"></script>
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <!-- Custom CSS -->
  <link rel="stylesheet" href="css/style.css">
</head>
<body class="min-h-screen flex flex-col">
  <!-- Header Section -->
  <header class="bg-black/80 py-4 px-6 border-b border-purple-900/50 sticky top-0 z-50">
    <div class="container mx-auto flex justify-between items-center">
      <h1 class="text-2xl font-bold gradient-text">Wallet QC</h1>
      <div id="auth-section" class="flex items-center space-x-4">
        <span id="user-email" class="text-sm text-gray-300 hidden"></span>
        <span id="user-role" class="text-xs px-2 py-1 rounded-full bg-purple-600/50 hidden">Member</span>
        <button id="logout-btn" class="px-4 py-2 bg-red-600/80 hover:bg-red-500/90 rounded-lg text-sm hidden">
          Logout
        </button>
        <button id="login-btn" class="btn-primary">Login</button>
      </div>
    </div>
  </header>

  <main class="flex-grow container mx-auto px-4 py-8">
    <!-- Authentication Container -->
    <section id="auth-container" class="max-w-md mx-auto solana-card p-8">
      <!-- ... (keep existing auth HTML structure) ... -->
    </section>

    <!-- Dashboard Section -->
    <section id="dashboard" class="hidden">
      <!-- ... (keep existing dashboard HTML structure) ... -->
    </section>

    <!-- Full Kas Section -->
    <section id="full-kas-section" class="solana-card p-6 hidden">
      <!-- ... (keep existing full kas HTML structure) ... -->
    </section>
    
    <!-- Full Agenda Section -->
    <section id="full-agenda-section" class="solana-card p-6 hidden">
      <!-- ... (keep existing full agenda HTML structure) ... -->
    </section>
    
    <!-- Full Sosial Section -->
    <section id="full-sosial-section" class="solana-card p-6 hidden">
      <!-- Fix duplicate IDs by renaming them -->
      <form id="full-post-form" class="space-y-4 mb-6">
        <div>
          <textarea id="full-post-content" rows="3" class="input-field" placeholder="Apa yang ingin Anda bagikan hari ini?" required></textarea>
        </div>
        <div class="flex justify-between items-center">
          <div class="flex items-center">
            <label for="full-post-image" class="file-upload-label mr-3">
              <span id="full-image-name-display">Lampirkan Gambar/Video</span>
              <i class="fas fa-image"></i>
            </label>
            <input type="file" id="full-post-image" accept="image/*,video/*" class="hidden">
          </div>
          <button type="submit" class="btn-primary">
            Posting
          </button>
        </div>
      </form>
      
      <div id="full-post-attachment-preview-container" class="hidden mt-4">
        <img id="full-preview-image" class="attachment-preview w-full" alt="Preview lampiran">
        <video id="full-preview-video" class="attachment-preview w-full hidden" controls></video>
        <button id="full-remove-attachment" class="mt-2 text-red-400 text-sm">
          <i class="fas fa-times mr-1"></i> Hapus lampiran
        </button>
      </div>
      
      <div id="full-social-feed" class="mt-8 space-y-6 max-h-[600px] overflow-y-auto">
        <div class="text-center py-10">
          <div class="loading mx-auto"></div>
          <p class="mt-3 text-gray-400">Memuat postingan...</p>
        </div>
      </div>
    </section>
    
    <!-- Admin Section -->
    <section id="admin-section" class="solana-card p-6 hidden">
      <!-- ... (keep existing admin HTML structure) ... -->
    </section>
  </main>

  <footer class="bg-black/80 py-4 px-6 mt-8 border-t border-purple-900/50 text-center text-gray-400 text-sm">
    <div class="container mx-auto">
      &copy; 2024 Wallet QC. All rights reserved.
    </div>
  </footer>

  <!-- JavaScript Files -->
  <!-- Load Firebase config first -->
  <script src="js/firebaseConfig.js"></script>
  
  <!-- Other JS files with proper order -->
  <script src="js/utils.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/firestore.js"></script>
  <script src="js/charts.js"></script>
  <script src="js/main.js" defer></script>

  <!-- Initialize Firebase -->
  <script>
    // Your Firebase initialization code here
    // Make sure this matches your firebaseConfig.js
  </script>
</body>
</html>
